# AutomatedBugFixing_PromptEngineeringStudy
Prompt Engineering for Automated Bug Fixing: A Preliminary LLM Study.


# QuixBugs Full Results
| Problem                    | Approach         | Test Result   |
|----------------------------|------------------|---------------|
| BITCOUNT                   | Zero-Shot        | ✅ Passed     |
| BITCOUNT                   | Few-Shot         | ✅ Passed     |
| BITCOUNT                   | Chain-of-Thought | ❌ Failed     |
| BREADTH_FIRST_SEARCH       | Zero-Shot        | ✅ Passed     |
| BREADTH_FIRST_SEARCH       | Few-Shot         | ✅ Passed     |
| BREADTH_FIRST_SEARCH       | Chain-of-Thought | ✅ Passed     |
| BUCKETSORT                 | Zero-Shot        | ✅ Passed     |
| BUCKETSORT                 | Few-Shot         | ✅ Passed     |
| BUCKETSORT                 | Chain-of-Thought | ✅ Passed     |
| DEPTH_FIRST_SEARCH         | Zero-Shot        | ✅ Passed     |
| DEPTH_FIRST_SEARCH         | Few-Shot         | ✅ Passed     |
| DEPTH_FIRST_SEARCH         | Chain-of-Thought | ✅ Passed     |
| DETECT_CYCLE               | Zero-Shot        | ✅ Passed     |
| DETECT_CYCLE               | Few-Shot         | ✅ Passed     |
| DETECT_CYCLE               | Chain-of-Thought | ✅ Passed     |
| FIND_FIRST_IN_SORTED       | Zero-Shot        | ✅ Passed     |
| FIND_FIRST_IN_SORTED       | Few-Shot         | ❌ Failed     |
| FIND_FIRST_IN_SORTED       | Chain-of-Thought | ❌ Failed     |
| FIND_IN_SORTED             | Zero-Shot        | ✅ Passed     |
| FIND_IN_SORTED             | Few-Shot         | ✅ Passed     |
| FIND_IN_SORTED             | Chain-of-Thought | ✅ Passed     |
| FLATTEN                    | Zero-Shot        | ✅ Passed     |
| FLATTEN                    | Few-Shot         | ✅ Passed     |
| FLATTEN                    | Chain-of-Thought | ✅ Passed     |
| GCD                        | Zero-Shot        | ✅ Passed     |
| GCD                        | Few-Shot         | ✅ Passed     |
| GCD                        | Chain-of-Thought | ✅ Passed     |
| GET_FACTORS                | Zero-Shot        | ✅ Passed     |
| GET_FACTORS                | Few-Shot         | ✅ Passed     |
| GET_FACTORS                | Chain-of-Thought | ✅ Passed     |
| HANOI                      | Zero-Shot        | ✅ Passed     |
| HANOI                      | Few-Shot         | ✅ Passed     |
| HANOI                      | Chain-of-Thought | ❌ Failed     |
| IS_VALID_PARENTHESIZATION  | Zero-Shot        | ✅ Passed     |
| IS_VALID_PARENTHESIZATION  | Few-Shot         | ✅ Passed     |
| IS_VALID_PARENTHESIZATION  | Chain-of-Thought | ✅ Passed     |
| KHEAPSORT                  | Zero-Shot        | ✅ Passed     |
| KHEAPSORT                  | Few-Shot         | ✅ Passed     |
| KHEAPSORT                  | Chain-of-Thought | ❌ Failed     |
| KNAPSACK                   | Zero-Shot        | ✅ Passed     |
| KNAPSACK                   | Few-Shot         | ✅ Passed     |
| KNAPSACK                   | Chain-of-Thought | ✅ Passed     |
| KTH                        | Zero-Shot        | ✅ Passed     |
| KTH                        | Few-Shot         | ✅ Passed     |
| KTH                        | Chain-of-Thought | ✅ Passed     |
| LCS_LENGTH                 | Zero-Shot        | ❌ Failed     |
| LCS_LENGTH                 | Few-Shot         | ❌ Failed     |
| LCS_LENGTH                 | Chain-of-Thought | ❌ Failed     |
| LEVENSHTEIN                | Zero-Shot        | ✅ Passed     |
| LEVENSHTEIN                | Few-Shot         | ✅ Passed     |
| LEVENSHTEIN                | Chain-of-Thought | ✅ Passed     |
| LIS                        | Zero-Shot        | ✅ Passed     |
| LIS                        | Few-Shot         | ❌ Failed     |
| LIS                        | Chain-of-Thought | ❌ Failed     |
| LONGEST_COMMON_SUBSEQUENCE | Zero-Shot        | ✅ Passed     |
| LONGEST_COMMON_SUBSEQUENCE | Few-Shot         | ✅ Passed     |
| LONGEST_COMMON_SUBSEQUENCE | Chain-of-Thought | ✅ Passed     |
| MAX_SUBLIST_SUM            | Zero-Shot        | ❌ Failed     |
| MAX_SUBLIST_SUM            | Few-Shot         | ✅ Passed     |
| MAX_SUBLIST_SUM            | Chain-of-Thought | ❌ Failed     |
| MERGESORT                  | Zero-Shot        | ✅ Passed     |
| MERGESORT                  | Few-Shot         | ✅ Passed     |
| MERGESORT                  | Chain-of-Thought | ✅ Passed     |
| MINIMUM_SPANNING_TREE      | Zero-Shot        | ✅ Passed     |
| MINIMUM_SPANNING_TREE      | Few-Shot         | ❌ Failed     |
| MINIMUM_SPANNING_TREE      | Chain-of-Thought | ✅ Passed     |
| NEXT_PALINDROME            | Zero-Shot        | ❌ Failed     |
| NEXT_PALINDROME            | Few-Shot         | ❌ Failed     |
| NEXT_PALINDROME            | Chain-of-Thought | ❌ Failed     |
| NEXT_PERMUTATION           | Zero-Shot        | ✅ Passed     |
| NEXT_PERMUTATION           | Few-Shot         | ✅ Passed     |
| NEXT_PERMUTATION           | Chain-of-Thought | ✅ Passed     |
| Node                       | Zero-Shot        | ❌ Failed     |
| Node                       | Few-Shot         | ❌ Failed     |
| Node                       | Chain-of-Thought | ❌ Failed     |
| PASCAL                     | Zero-Shot        | ✅ Passed     |
| PASCAL                     | Few-Shot         | ✅ Passed     |
| PASCAL                     | Chain-of-Thought | ✅ Passed     |
| POSSIBLE_CHANGE            | Zero-Shot        | ✅ Passed     |
| POSSIBLE_CHANGE            | Few-Shot         | ✅ Passed     |
| POSSIBLE_CHANGE            | Chain-of-Thought | ✅ Passed     |
| POWERSET                   | Zero-Shot        | ❌ Failed     |
| POWERSET                   | Few-Shot         | ❌ Failed     |
| POWERSET                   | Chain-of-Thought | ❌ Failed     |
| QUICKSORT                  | Zero-Shot        | ✅ Passed     |
| QUICKSORT                  | Few-Shot         | ❌ Failed     |
| QUICKSORT                  | Chain-of-Thought | ✅ Passed     |
| REVERSE_LINKED_LIST        | Zero-Shot        | ✅ Passed     |
| REVERSE_LINKED_LIST        | Few-Shot         | ✅ Passed     |
| REVERSE_LINKED_LIST        | Chain-of-Thought | ✅ Passed     |
| RPN_EVAL                   | Zero-Shot        | ✅ Passed     |
| RPN_EVAL                   | Few-Shot         | ✅ Passed     |
| RPN_EVAL                   | Chain-of-Thought | ✅ Passed     |
| SHORTEST_PATHS             | Zero-Shot        | ✅ Passed     |
| SHORTEST_PATHS             | Few-Shot         | ✅ Passed     |
| SHORTEST_PATHS             | Chain-of-Thought | ❌ Failed     |
| SHUNTING_YARD              | Zero-Shot        | ✅ Passed     |
| SHUNTING_YARD              | Few-Shot         | ✅ Passed     |
| SHUNTING_YARD              | Chain-of-Thought | ✅ Passed     |
| SIEVE                      | Zero-Shot        | ✅ Passed     |
| SIEVE                      | Few-Shot         | ❌ Failed     |
| SIEVE                      | Chain-of-Thought | ✅ Passed     |
| SQRT                       | Zero-Shot        | ❌ Failed     |
| SQRT                       | Few-Shot         | ✅ Passed     |
| SQRT                       | Chain-of-Thought | ✅ Passed     |
| SUBSEQUENCES               | Zero-Shot        | ❌ Failed     |
| SUBSEQUENCES               | Few-Shot         | ❌ Failed     |
| SUBSEQUENCES               | Chain-of-Thought | ❌ Failed     |
| TOPOLOGICAL_ORDERING       | Zero-Shot        | ✅ Passed     |
| TOPOLOGICAL_ORDERING       | Few-Shot         | ✅ Passed     |
| TOPOLOGICAL_ORDERING       | Chain-of-Thought | ❌ Failed     |
| TO_BASE                    | Zero-Shot        | ✅ Passed     |
| TO_BASE                    | Few-Shot         | ✅ Passed     |
| TO_BASE                    | Chain-of-Thought | ✅ Passed     |
| WRAP                       | Zero-Shot        | ❌ Failed     |
| WRAP                       | Few-Shot         | ❌ Failed     |
| WRAP                       | Chain-of-Thought | ❌ Failed     |
| WeightedEdge               | Zero-Shot        | ❌ Failed     |
| WeightedEdge               | Few-Shot         | ❌ Failed     |
| WeightedEdge               | Chain-of-Thought | ❌ Failed     |

# Defects4j Results

### ChatGPT UI - Chunked prompts input

#### Success/Failure Table
| Project Id & Bug Id | Zero-shot success/failure | Few-shot success/failure | CoT success/failure |
|---------------------|---------------------------|---------------------------|----------------------|
| Lang 1              | FAILURE                   | FAILURE                   | FAILURE              |

#### Result Details
| Project id and Bug id | Zero-shot result | Few-shot result                                                                 | CoT result     |
|-----------------------|------------------|----------------------------------------------------------------------------------|----------------|
| Lang 1                | Syntax errors    | No Syntax errors, more test method are failing including the test method failed | Syntax errors  |

---

### ChatGPT UI - File prompts input

#### Success/Failure Table
| Project Id & Bug Id   | Zero-shot success/failure        | Few-shot success/failure         | CoT success/failure            |
|-----------------------|----------------------------------|----------------------------------|--------------------------------|
| Lang 1                | FAILURE                          | FAILURE                          | FAILURE                        |
| Lang 3                | FAILURE                          | PARTIAL SUCCESS                  | FAILURE                        |
| Chart                 | FAILURE -- TOO MANY FILES        | FAILURE -- TOO MANY FILES        | FAILURE -- TOO MANY FILES      |
| Cli 1                 | FAILURE                          | FAILURE                          | PARTIAL SUCCESS                |
| Cli 2                 | FAILURE                          | FAILURE                          | FAILURE                        |
| Closure               | FAILURE -- TOO MANY FILES        | FAILURE -- TOO MANY FILES        | FAILURE -- TOO MANY FILES      |
| Codec (text input)    | FAILURE                          | FAILURE                          | FAILURE                        |
| Codec 2 (text input)  | FAILURE                          | FAILURE                          | FAILURE                        |

#### Result Details
| Project id and Bug id | Zero-shot result                                       | Few-shot result                                                       | CoT result                                                                 |
|-----------------------|--------------------------------------------------------|------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| Lang 1                | More tests than the test method fails                  | The test method passes but the testCreateNumberFailure_1 test fails    | More than just the TestLang747 test fails -- note that GPT attempts to re-write the entire createNumber method. |
| Lang 3                | Does not fix the failing test + more tests are failing | Fixes the failing test but other tests are failing                     | Fails more than the test method                                            |
| Chart                 |                                                        |                                                                        |                                                                             |
| Cli 1                 | Does not fix the failing test                          | Does not fix the failing test                                          | The test method passes but other tests fail                                |
| Cli 2                 | Does not fix the failing test                          | Does not fix the failing test                                          | Fails more than the test method                                            |
| Closure               | FAILURE -- TOO MANY FILES                              | FAILURE -- TOO MANY FILES                                              | FAILURE -- TOO MANY FILES                                                  |
| Codec 1 (text input)  | Does not fix the failing tests                         | Does not fix the failing tests                                         | Does not fix the failing tests                                             |
| Codec 2 (text input)  | Syntax error (byte.decode cannot find symbol)          | Syntax error (byte.decode cannot find symbol)                          | Syntax error (byte.decode cannot find symbol)                              |

---

### WITHOUT CONTEXT ChatGPT UI - Chunked prompts input without the relevant src files but only the modified files

#### Success/Failure Table
| Project Id & Bug Id | Zero-shot success/failure | Few-shot success/failure | CoT success/failure |
|---------------------|---------------------------|---------------------------|----------------------|
| Lang 1              | FAILURE                   | FAILURE                   | FAILURE              |
| Lang 3              | FAILURE                   | PARTIAL SUCCESS           | FAILURE              |

#### Result Details
| Project id and Bug id | Zero-shot result                  | Few-shot result                        | CoT result                        |
|-----------------------|-----------------------------------|----------------------------------------|-----------------------------------|
| Lang 1                | Fails current and other tests     | Fails current and other tests          | Fails current and other tests     |
| Lang 3                | Fails current and other tests     | Fails other tests, passes test method  | Fails current and other tests     |

